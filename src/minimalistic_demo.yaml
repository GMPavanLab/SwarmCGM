# 1. GENERAL
lipids_codes: # lipids and temperatures to use for this optimization (other input files must be prepared accordingly)
  POPC: [303K]
  DOPC: [303K]
gmx_path: gmx  # path/alias to GROMACS
output_folder: ""  # string, empty = new directory named after timestamp, filled = continue opti from current state of this given directory

# 2. CONDITIONS OF THE OPTIMIZATION: CHOICE OF THE PARAMETERS TO BE OPTIMIZED
cg_time_equi: 20  # ns, CG MD equilibration time
cg_time_prod: 200  # ns, CG MD production time
tune_bonds_equi_val: all  # 'all' or list of bond types for which equilibrium values will be optimized
tune_bonds_fct: all
tune_angles_equi_val: all
tune_angles_fct: all
tune_radii: False
tune_radii_in_groups: None  # if ns.tune_radii is True, the same radii can be specified here for several beads
tune_eps: True
eps_flat_range: None  # float or None, limit the range of epsilons variations around (+/-) the value given in 'init_nonbonded'

# 3. CONDITIONS OF THE OPTIMIZATION: RANGES OF THE PARAMETERS TO BE OPTIMIZED
min_radius: 0.12
max_radius: 0.35
min_epsilon: 0.10
max_epsilon: 8.00
min_fct_bonds: 1000
max_fct_bonds: 9000
min_fct_angles: 0
max_fct_angles: 70
apl_base_perc_error: 10
dhh_base_perc_error: 10
apl_cap_perc_error: 30
dhh_cap_perc_error: 30

# 4. REFERENCE ALL-ATOM (AA) DATA USED FOR THE BOTTOM-UP COMPONENT OF THE SCORE
mapping_type: MARTINI  # string, your mapping/framework type (defines where input files will be searched for)
solv: WET  # WET or DRY, for explicit or implicit solvent (defines where input files will be searched for)
map_center: COG  # COG or COM, for Center Of Geometry or Center Of Mass
reset: True  # if True, recalculates bond and angle distributions and distance distributions between pair of beads from the AA data
phosphate_pos:  # position of the phosphate atom or bead, used for calculating Dhh membrane thickness
  PC:  # per head type
    AA: 20  # atom id of the phosphate, 1-indexed
    CG: 2  # bead id of the bead containing the phosphate, 1-indexed

# 5. PARAMETERS FOR RUNNING OPTIMIZATION SIMULATIONS: GENERAL
nb_cores_analysis: 8  # number of cores to use for analysis on the machine or node running the optimisation software

# 6. PARAMETERS FOR RUNNING OPTIMIZATION SIMULATIONS: SPECIFIC TO HPC RESOURCE (SLURM ONLY)
master_job_name: "MASTER"  # name of the master job
nb_hpc_slots: 0  # max number of nodes to be used at a single time

# 7. PARAMETERS FOR RUNNING OPTIMIZATION SIMULATIONS: SPECIFIC TO A LOCAL COMPUTER
nb_threads: "4 4"  # string, space-separated number of OpenMP threads to use, defining the number of "slots" for simulations
gpu_id: ""  # string, space-separated GPU ids to use per "slot" defined in nb_threads
gmx_additional_args_str: ""  # string, additional arguments to be appended to the GROMACS command line TODO: split into mini/equi/prod

# 8. PARAMETERS FOR THE ANALYSIS OF THE BOTTOM-UP COMPONENT OF THE SCORE
bw_constraints: 0.002  # nm
bw_bonds: 0.01  # nm
bonds_max_range: 5  # nm, max range of the histograms created for EMD calculations
bw_angles: 2  # degrees
bw_dihedrals: 2  # degrees
bw_rdfs: 0.025  # nm
cut_rdfs_short: 2.5  # nm
eq_val_density_thres_constraints: 0.05  # cutoff to select equi val ranges, with respect to max density per constraint type
eq_val_density_thres_bonds: 0.05  # cutoff to select equi val ranges, with respect to max density per bond type
eq_val_density_thres_angles: 0.333  # cutoff to select equi val ranges, with respect to max density per angle type

# 9. amplitude variations created randomly around the starting FF parameters (+/- values below) to initialize the swarm
bond_value_guess_variation: 0.02  # nm
angle_value_guess_variation: 20  # degrees
bond_fct_guess_variation: 3000  # fct units
angle_fct_guess_variation: 15  # fct units
radius_guess_variation: 0.10  # nm
eps_guess_variation: 3  # kJ.mol-1

# PLOTTING PARAMETERS FOR BOND AND ANGLE DISTRIBUTIONS
row_x_scaling: True  # use the same scale on all X axes
row_y_scaling: True  # use the same scale on all Y axes

# EXPERIMENTAL DATA USED FOR THE TOP-DOWN COMPONENT OF THE SCORE
exp_data:
  POPC:
    303K:
      apl: 0.643  # nm2
      Dhh: 3.65  # nm
  DOPC:
    303K:
      apl: 0.674
      Dhh: 3.68
  DPPC:
    323K:
      apl: 0.631
      Dhh: 3.86
  DMPC:
    303K:
      apl: 0.598
      Dhh: 3.49
  DLPC:
    303K:
      apl: 0.608
      Dhh: 2.98
  SDPC:
    303K:
      apl: 0.704
      Dhh: 3.52
  PDPC:
    303K:
      apl: 0.711
      Dhh: 3.30

# WEIGHT/CONFIDENCE ATTRIBUTED TO/INTO THE REFERENCE AA TRAJECTORIES
reference_AA_weight:
  POPC: {303K: 1.0}
  DOPC:
    303K: 1.0
  DPPC:
    323K: 1.0
  DMPC:
    303K: 1.0
  DLPC:
    303K: 1.0
  SDPC:
    303K: 0.5
  PDPC:
    303K: 0.5

# INITIAL FORCE FIELD PARAMETERS FOR BONDED TERMS
init_bonded:  # must correspond to bond and angle types as defined in your input ITP files
  B1: {val: 0, fct: 3000}
  B2:
    val: 0
    fct: 3000
  B3:
    val: 0
    fct: 3000
  B4:
    val: 0
    fct: 3000
  B5:
    val: 0
    fct: 3000
  B6:
    val: 0
    fct: 3000
  B7:
    val: 0
    fct: 3000
  B8:
    val: 0
    fct: 3000
  B9:
    val: 0
    fct: 3000
  B10:
    val: 0
    fct: 3000
  B11:
    val: 0
    fct: 3000
  B12:
    val: 0
    fct: 3000
  B13:
    val: 0
    fct: 3000
  B14:
    val: 0
    fct: 3000
  A1:
    val: 180
    fct: 15
  A2:
    val: 0
    fct: 15
  A3:
    val: 0
    fct: 15
  A4:
    val: 0
    fct: 15
  A5:
    val: 0
    fct: 15
  A6:
    val: 0
    fct': 15
  A7:
    val: 0
    fct: 15
  A8:
    val: 0
    fct: 15
  A9:
    val: 0
    fct: 15
  A10:
    val: 0
    fct: 15
  A11:
    val: 0
    fct: 15
  A12:
    val: 0
    fct: 15
  A13:
    val: 0
    fct: 15
  A14:
    val: 0
    fct: 15
  A15:
    val: 0
    fct: 15
  A16:
    val: 0
    fct: 15
  A17:
    val: 0
    fct: 15
  A18:
    val: 0
    fct: 15
  A19:
    val: 0
    fct: 15
  A20:
    val: 0
    fct: 15
  A21:
    val: 0
    fct: 15
  A22:
    val: 0
    fct: 15
  A23:
    val: 0
    fct: 15
  A24:
    val: 0
    fct: 15

# INITIAL FORCE FIELD PARAMETERS FOR NON-BONDED TERMS
init_nonbonded:  # must correspond to bead types as defined in your input ITP files
  C1 C1: {sig: 0.470, eps: 3.000}  # each pair of bead types must be sorted alphanumerically
  C1 C3:
    sig: 0.470
    eps: 3.000
  C1 N2a:
    sig: 0.470
    eps: 3.000
  C1 Q0:
    sig: 0.470
    eps: 3.000
  C1 Q1:
    sig: 0.470
    eps: 3.000
  C1 SC2:
    sig: 0.440
    eps: 3.000
  C1 SC3:
    sig: 0.440
    eps: 3.000
  C3 C3:
    sig: 0.470
    eps: 3.000
  C3 N2a:
    sig: 0.470
    eps: 3.000
  C3 Q0:
    sig: 0.470
    eps: 3.000
  C3 Q1:
    sig: 0.470
    eps: 3.000
  C3 SC2:
    sig: 0.440
    eps: 3.000
  C3 SC3: {sig: 0.440, eps: 3.000}
  N2a N2a:
    sig: 0.470
    eps: 3.000
  N2a Q0:
    sig: 0.470
    eps: 3.000
  N2a Q1:
    sig: 0.470
    eps: 3.000
  N2a SC2:
    sig: 0.440
    eps: 3.000
  N2a SC3:
    sig: 0.440
    eps: 3.000
  Q0 Q0:
    sig: 0.470
    eps: 3.000
  Q0 Q1:
    sig: 0.470
    eps: 3.000
  Q0 SC2:
    sig: 0.440
    eps: 3.000
  Q0 SC3:
    sig: 0.440
    eps: 3.000
  Q1 Q1:
    sig: 0.470
    eps: 3.000
  Q1 SC2:
    sig: 0.440
    eps: 3.000
  Q1 SC3:
    sig: 0.440
    eps: 3.000
  SC2 SC2:
    sig: 0.430
    eps: 3.000
  SC2 SC3:
    sig: 0.430
    eps: 3.000
  SC3 SC3:
    sig: 0.430
    eps: 3.000

# MASSES OF THE CG BEADS
beads_masses:
  Q0: 72  # u.m.a.
  Q1: 72
  N2a: 72
  C1: 72
  C3: 72
  SC2: 45
  SC3: 45

# RADII OF THE CG BEADS
init_beads_radii:
  Q0: 0  # nm
  Q1: 0
  N2a: 0
  C1: 0
  C3: 0
  SC2: 0
  SC3: 0

# OTHERS PARAMETERS (SHOULD NOT NEED CHANGES)
sim_kill_delay: 60  # number of seconds after which a simulation will be killed if it did not write in its log file
bonds2angles_scoring_factor: 500
next_cycle: False  # for restarting from the single best set of FF parameters in a previous optimization output directory